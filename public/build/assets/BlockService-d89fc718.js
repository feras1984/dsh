import{a as r,S as d}from"./app-29790f36.js";var m=Object.defineProperty,p=Object.getOwnPropertyDescriptor,c=(e,t,a,n)=>{for(var i=n>1?void 0:n?p(t,a):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,a,i):o(i))||i);return n&&i&&m(t,a,i),i};let l=class{constructor(){this.language="en",this.mapBlocksGrid=e=>e.map(t=>({id:t.id,avatar:this.getBlockImage(t),name:this.getBlockName(t),parent:this.getParentBlock(t.parentId,e),isActive:t.isActive,createdAt:t.createdAt})),this.getParentBlock=(e,t)=>{var n;let a="";if(e!==null){const i=t.find(s=>s.id===e)||null;i!==null&&(a=((n=i.translations.find(s=>s.language===this.language))==null?void 0:n.name)||"")}return a},this.getBlockName=e=>{var t;return((t=e.translations.find(a=>a.language===this.language))==null?void 0:t.name)||""},this.getBlockRows=e=>{let t=[];return e.map(a=>{t=[...t,{id:a.id,name:this.getBlockName(a),parent:this.getParentBlock(a.parentId,e),isActive:a.isActive,edit:"Edit",delete:"Delete",createdAt:a.createdAt,image:this.getBlockImage(a)}]}),t},this.getBlockImage=e=>`${window.location.origin}/file/blocks/${e.images[0].url}`,this.getImageUrl=e=>`${window.location.origin}/file/blocks/${e}`,this.getTranslationsDetails=e=>{const t={};return e.map(a=>{Object.assign(t,{[a.language]:{name:a.name,description:a.description,brief:a.brief}})}),t},this.storeBlock=e=>r.post("/admin/website/block",e,{headers:{"Content-Type":"multipart/form-data"}}),this.updateBlock=(e,t)=>r.post("/admin/website/block/translations/"+t+"?_method=PATCH",e,{headers:{"Content-Type":"multipart/form-data"}}),this.blockActivation=(e,t)=>r.post("/admin/website/block/activation/"+t+"?_method=PATCH",e,{headers:{"Content-Type":"multipart/form-data"}}),this.addImage=(e,t)=>r.post("/admin/website/block/upload/file/"+t,e,{headers:{"Content-Type":"multipart/form-data"}}),this.uploadImage=(e,t)=>r.post("/admin/website/block/upload/file/"+t+"?_method=PATCH",e,{headers:{"Content-Type":"multipart/form-data"}}),this.deleteImage=(e,t)=>r.post("/admin/website/block/upload/file/"+t+"?_method=DELETE",e,{headers:{"Content-Type":"multipart/form-data"}}),this.deleteBlock=e=>r.post("/admin/website/block/"+e+"?_method=DELETE",{},{headers:{"Content-Type":"multipart/form-data"}}),this.reorder=e=>r.post("/admin/website/block/reorder",e,{headers:{"Content-Type":"multipart/form-data"}})}};l=c([d()],l);const h=l;export{h as B};
