import{r as l,_ as j,j as H,b as S,e as Pe}from"./app-29790f36.js";import{g as ge,a as ve,c as ee}from"./generateUtilityClasses-3b53fbe1.js";import{a as X,u as De}from"./Portal-94800457.js";import{s as U,c as ye,r as Ie}from"./styled-656f2a25.js";import{g as ke,M as Fe}from"./Modal-250b81f8.js";import{P as Oe}from"./Paper-5af31515.js";import{a as _e,u as be}from"./useForkRef-183980e9.js";import{o as Y,b as pe}from"./useControlled-e50ce4b8.js";import{d as $e}from"./debounce-2f5b2bed.js";import{i as ze}from"./mergeSlotProps-22577cf6.js";import{G as Ne}from"./Grow-f6f3127b.js";import{L as je}from"./List-11b6a348.js";const He=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Q(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function fe(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function xe(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function W(t,e,o,E,b,w){let f=!1,d=b(t,e,e?o:!1);for(;d;){if(d===t.firstChild){if(f)return!1;f=!0}const u=E?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!xe(d,w)||u)d=b(t,d,o);else return d.focus(),!0}return!1}const Ke=l.forwardRef(function(e,o){const{actions:E,autoFocus:b=!1,autoFocusItem:w=!1,children:f,className:d,disabledItemsFocusable:u=!1,disableListWrap:P=!1,onKeyDown:R,variant:x="selectedMenu"}=e,$=j(e,He),g=l.useRef(null),K=l.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_e(()=>{b&&g.current.focus()},[b]),l.useImperativeHandle(E,()=>({adjustStyleForScrollbar:(r,{direction:i})=>{const c=!g.current.style.width;if(r.clientHeight<g.current.clientHeight&&c){const h=`${ke(Y(r))}px`;g.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=h,g.current.style.width=`calc(100% + ${h})`}return g.current}}),[]);const F=r=>{const i=g.current,c=r.key,h=Y(i).activeElement;if(c==="ArrowDown")r.preventDefault(),W(i,h,P,u,Q);else if(c==="ArrowUp")r.preventDefault(),W(i,h,P,u,fe);else if(c==="Home")r.preventDefault(),W(i,null,P,u,Q);else if(c==="End")r.preventDefault(),W(i,null,P,u,fe);else if(c.length===1){const s=K.current,C=c.toLowerCase(),D=performance.now();s.keys.length>0&&(D-s.lastTime>500?(s.keys=[],s.repeating=!0,s.previousKeyMatched=!0):s.repeating&&C!==s.keys[0]&&(s.repeating=!1)),s.lastTime=D,s.keys.push(C);const I=h&&!s.repeating&&xe(h,s);s.previousKeyMatched&&(I||W(i,h,!1,u,Q,s))?r.preventDefault():s.previousKeyMatched=!1}R&&R(r)},p=be(g,o);let n=-1;l.Children.forEach(f,(r,i)=>{if(!l.isValidElement(r)){n===i&&(n+=1,n>=f.length&&(n=-1));return}r.props.disabled||(x==="selectedMenu"&&r.props.selected||n===-1)&&(n=i),n===i&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(n+=1,n>=f.length&&(n=-1))});const O=l.Children.map(f,(r,i)=>{if(i===n){const c={};return w&&(c.autoFocus=!0),r.props.tabIndex===void 0&&x==="selectedMenu"&&(c.tabIndex=0),l.cloneElement(r,c)}return r});return H.jsx(je,S({role:"menu",ref:p,className:d,onKeyDown:F,tabIndex:b?0:-1},$,{children:O}))}),Ae=Ke;function We(t){return ge("MuiPopover",t)}ve("MuiPopover",["root","paper"]);const Ue=["onEntering"],Ge=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ve=["slotProps"];function de(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function he(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function me(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Z(t){return typeof t=="function"?t():t}const Be=t=>{const{classes:e}=t;return ye({root:["root"],paper:["paper"]},We,e)},Xe=U(Fe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),we=U(Oe,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ye=l.forwardRef(function(e,o){var E,b,w;const f=Pe({props:e,name:"MuiPopover"}),{action:d,anchorEl:u,anchorOrigin:P={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:x="anchorEl",children:$,className:g,container:K,elevation:F=8,marginThreshold:p=16,open:n,PaperProps:O={},slots:r,slotProps:i,transformOrigin:c={vertical:"top",horizontal:"left"},TransitionComponent:h=Ne,transitionDuration:s="auto",TransitionProps:{onEntering:C}={},disableScrollLock:D=!1}=f,I=j(f.TransitionProps,Ue),q=j(f,Ge),T=(E=i==null?void 0:i.paper)!=null?E:O,k=l.useRef(),G=be(k,T.ref),A=S({},f,{anchorOrigin:P,anchorReference:x,elevation:F,marginThreshold:p,externalPaperSlotProps:T,transformOrigin:c,TransitionComponent:h,transitionDuration:s,TransitionProps:I}),V=Be(A),B=l.useCallback(()=>{if(x==="anchorPosition")return R;const a=Z(u),y=(a&&a.nodeType===1?a:Y(k.current).body).getBoundingClientRect();return{top:y.top+de(y,P.vertical),left:y.left+he(y,P.horizontal)}},[u,P.horizontal,P.vertical,R,x]),v=l.useCallback(a=>({vertical:de(a,c.vertical),horizontal:he(a,c.horizontal)}),[c.horizontal,c.vertical]),_=l.useCallback(a=>{const m={width:a.offsetWidth,height:a.offsetHeight},y=v(m);if(x==="none")return{top:null,left:null,transformOrigin:me(y)};const se=B();let z=se.top-y.vertical,N=se.left-y.horizontal;const ie=z+m.height,le=N+m.width,ae=pe(Z(u)),ce=ae.innerHeight-p,ue=ae.innerWidth-p;if(p!==null&&z<p){const M=z-p;z-=M,y.vertical+=M}else if(p!==null&&ie>ce){const M=ie-ce;z-=M,y.vertical+=M}if(p!==null&&N<p){const M=N-p;N-=M,y.horizontal+=M}else if(le>ue){const M=le-ue;N-=M,y.horizontal+=M}return{top:`${Math.round(z)}px`,left:`${Math.round(N)}px`,transformOrigin:me(y)}},[u,x,B,v,p]),[Me,te]=l.useState(n),L=l.useCallback(()=>{const a=k.current;if(!a)return;const m=_(a);m.top!==null&&(a.style.top=m.top),m.left!==null&&(a.style.left=m.left),a.style.transformOrigin=m.transformOrigin,te(!0)},[_]);l.useEffect(()=>(D&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)),[u,D,L]);const Se=(a,m)=>{C&&C(a,m),L()},Ee=()=>{te(!1)};l.useEffect(()=>{n&&L()}),l.useImperativeHandle(d,()=>n?{updatePosition:()=>{L()}}:null,[n,L]),l.useEffect(()=>{if(!n)return;const a=$e(()=>{L()}),m=pe(u);return m.addEventListener("resize",a),()=>{a.clear(),m.removeEventListener("resize",a)}},[u,n,L]);let oe=s;s==="auto"&&!h.muiSupportAuto&&(oe=void 0);const Re=K||(u?Y(Z(u)).body:void 0),J=(b=r==null?void 0:r.root)!=null?b:Xe,re=(w=r==null?void 0:r.paper)!=null?w:we,Ce=X({elementType:re,externalSlotProps:S({},T,{style:Me?T.style:S({},T.style,{opacity:0})}),additionalProps:{elevation:F,ref:G},ownerState:A,className:ee(V.paper,T==null?void 0:T.className)}),ne=X({elementType:J,externalSlotProps:(i==null?void 0:i.root)||{},externalForwardedProps:q,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:Re,open:n},ownerState:A,className:ee(V.root,g)}),{slotProps:Te}=ne,Le=j(ne,Ve);return H.jsx(J,S({},Le,!ze(J)&&{slotProps:Te,disableScrollLock:D},{children:H.jsx(h,S({appear:!0,in:n,onEntering:Se,onExited:Ee,timeout:oe},I,{children:H.jsx(re,S({},Ce,{children:$}))}))}))}),qe=Ye;function Je(t){return ge("MuiMenu",t)}ve("MuiMenu",["root","paper","list"]);const Qe=["onEntering"],Ze=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],et={vertical:"top",horizontal:"right"},tt={vertical:"top",horizontal:"left"},ot=t=>{const{classes:e}=t;return ye({root:["root"],paper:["paper"],list:["list"]},Je,e)},rt=U(qe,{shouldForwardProp:t=>Ie(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),nt=U(we,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),st=U(Ae,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),it=l.forwardRef(function(e,o){var E,b;const w=Pe({props:e,name:"MuiMenu"}),{autoFocus:f=!0,children:d,className:u,disableAutoFocusItem:P=!1,MenuListProps:R={},onClose:x,open:$,PaperProps:g={},PopoverClasses:K,transitionDuration:F="auto",TransitionProps:{onEntering:p}={},variant:n="selectedMenu",slots:O={},slotProps:r={}}=w,i=j(w.TransitionProps,Qe),c=j(w,Ze),h=De(),s=S({},w,{autoFocus:f,disableAutoFocusItem:P,MenuListProps:R,onEntering:p,PaperProps:g,transitionDuration:F,TransitionProps:i,variant:n}),C=ot(s),D=f&&!P&&$,I=l.useRef(null),q=(v,_)=>{I.current&&I.current.adjustStyleForScrollbar(v,{direction:h?"rtl":"ltr"}),p&&p(v,_)},T=v=>{v.key==="Tab"&&(v.preventDefault(),x&&x(v,"tabKeyDown"))};let k=-1;l.Children.map(d,(v,_)=>{l.isValidElement(v)&&(v.props.disabled||(n==="selectedMenu"&&v.props.selected||k===-1)&&(k=_))});const G=(E=O.paper)!=null?E:nt,A=(b=r.paper)!=null?b:g,V=X({elementType:O.root,externalSlotProps:r.root,ownerState:s,className:[C.root,u]}),B=X({elementType:G,externalSlotProps:A,ownerState:s,className:C.paper});return H.jsx(rt,S({onClose:x,anchorOrigin:{vertical:"bottom",horizontal:h?"right":"left"},transformOrigin:h?et:tt,slots:{paper:G,root:O.root},slotProps:{root:V,paper:B},open:$,ref:o,transitionDuration:F,TransitionProps:S({onEntering:q},i),ownerState:s},c,{classes:K,children:H.jsx(st,S({onKeyDown:T,actions:I,autoFocus:f&&(k===-1||P),autoFocusItem:D,variant:n},R,{className:ee(C.list,R.className),children:d}))}))}),yt=it;export{yt as M};
