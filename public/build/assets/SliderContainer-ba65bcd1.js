import{R as h,j as i,S as H}from"./app-5a10fe5c.js";import{u as q,g as P,P as C}from"./index-f741c658.js";import{I as T}from"./Icon-416df542.js";import{B as I}from"./Box-77f1218e.js";import{S as U}from"./Stack-f30bf336.js";import{I as j}from"./Send-a3fa1c41.js";import{g as W,i as X,d as Y,n as k,f as R,h as Z,A as N,S as J,N as K,P as Q,b as ee}from"./autoplay-05ed67df.js";/* empty css                   */import{C as te}from"./Container-ab79b117.js";import{B as se}from"./Backdrop-29ce09cd.js";const ie={open:!1,openViewer:()=>{},closeViewer:()=>{},album:[],uri:"",title:""},L=h.createContext(ie),Re=({children:o,value:e})=>i.jsx(L.Provider,{value:e,children:o}),V=()=>{const o=h.useContext(L);if(o===void 0)throw new Error("Context must be inside the provider!");return o},oe="_titleAria_1k474_1",ne="_serviceCard_1k474_12",re="_boxContainer_1k474_20",ae="_imgFlex_1k474_25",le="_imgCard_1k474_32",ce="_coverAria_1k474_45",Be={titleAria:oe,serviceCard:ne,boxContainer:re,imgFlex:ae,imgCard:le,coverAria:ce};var ue=Object.defineProperty,me=Object.getOwnPropertyDescriptor,de=(o,e,b,l)=>{for(var r=l>1?void 0:l?me(e,b):e,m=o.length-1,x;m>=0;m--)(x=o[m])&&(r=(l?x(e,b,r):x(r))||r);return l&&r&&ue(e,b,r),r};let B=class{constructor(){this.getAlbumUrls=(o,e)=>o.map(b=>({src:e+b.url,title:b.name}))}};B=de([H()],B);const Ve=B,pe="_layout_1jiby_1",fe="_swiperSlide2_1jiby_18",he="_swiper_1jiby_18",be="_swiperSlide_1jiby_18",we="_mySwiper2_1jiby_87",xe="_mySwiper_1jiby_87",E={layout:pe,swiperSlide2:fe,swiper:he,swiperSlide:be,mySwiper2:we,mySwiper:xe,"swiper-slide-thumb-active":"_swiper-slide-thumb-active_1jiby_105"},ve={controls:{autoplay:!1,zoom:1,mapIn:!1},setControls:null,changeAutoPlay:()=>{},zoomIn:()=>{},zoomOut:()=>{},changeMap:o=>{}},F=h.createContext(ve),ye=({children:o,value:e})=>i.jsx(F.Provider,{value:e,children:o}),G=()=>{const o=h.useContext(F);if(o===void 0)throw Error("Component should be inside the corresponding provider!");return o},Se=()=>{const{closeViewer:o}=V(),{controls:e,setControls:b,changeAutoPlay:l,zoomIn:r,zoomOut:m,changeMap:x}=G();return h.useEffect(()=>{},[console,b]),i.jsx(I,{className:"p-[16px]",children:i.jsxs(U,{direction:"row",alignItems:"ceneter",justifyContent:"flex-end",spacing:1,children:[i.jsx(j,{title:"Zoom In",onClick:()=>r(),children:i.jsx(T,{name:"zoom-in"})}),i.jsx(j,{title:"Zoom Out",onClick:()=>m(),children:i.jsx(T,{name:"zoom-out"})}),i.jsx(j,{title:"Full Screen",onClick:()=>x(!0),children:i.jsx(T,{name:"map-out"})}),i.jsx(j,{title:"Normal Screen",onClick:()=>x(!1),children:i.jsx(T,{name:"map-in"})}),i.jsx(j,{title:"Auto Play",onClick:()=>l(),children:e.autoplay?i.jsx(T,{name:"stop"}):i.jsx(T,{name:"play"})}),i.jsx(j,{onClick:o,children:i.jsx(T,{name:"close"})})]})})};function ge(o){let{swiper:e,extendParams:b,on:l}=o;b({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,m=!1;e.thumbs={swiper:null};function x(){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const t=s.clickedIndex,d=s.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let p;s.params.loop?p=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10):p=t,e.params.loop?e.slideToLoop(p):e.slideTo(p)}function v(){const{thumbs:s}=e.params;if(r)return!1;r=!0;const t=e.constructor;if(s.swiper instanceof t)e.thumbs.swiper=s.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(X(s.swiper)){const d=Object.assign({},s.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(d),m=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",x),!0}function f(s){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const d=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let p=1;const c=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(p=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),t.slides.forEach(w=>w.classList.remove(c)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let w=0;w<p;w+=1)Y(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+w}"]`).forEach(u=>{u.classList.add(c)});else for(let w=0;w<p;w+=1)t.slides[e.realIndex+w]&&t.slides[e.realIndex+w].classList.add(c);const n=e.params.thumbs.autoScrollOffset,g=n&&!t.params.loop;if(e.realIndex!==t.realIndex||g){const w=t.activeIndex;let u,_;if(t.params.loop){const a=t.slides.filter(M=>M.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];u=t.slides.indexOf(a),_=e.activeIndex>e.previousIndex?"next":"prev"}else u=e.realIndex,_=u>e.previousIndex?"next":"prev";g&&(u+=_==="next"?n:-1*n),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(u)<0&&(t.params.centeredSlides?u>w?u=u-Math.floor(d/2)+1:u=u+Math.floor(d/2)-1:u>w&&t.params.slidesPerGroup,t.slideTo(u,s?0:void 0))}}l("beforeInit",()=>{const{thumbs:s}=e.params;if(!(!s||!s.swiper))if(typeof s.swiper=="string"||s.swiper instanceof HTMLElement){const t=W(),d=()=>{const c=typeof s.swiper=="string"?t.querySelector(s.swiper):s.swiper;if(c&&c.swiper)s.swiper=c.swiper,v(),f(!0);else if(c){const n=g=>{s.swiper=g.detail[0],c.removeEventListener("init",n),v(),f(!0),s.swiper.update(),e.update()};c.addEventListener("init",n)}return c},p=()=>{if(e.destroyed)return;d()||requestAnimationFrame(p)};requestAnimationFrame(p)}else v(),f(!0)}),l("slideChange update resize observerUpdate",()=>{f()}),l("setTransition",(s,t)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(t)}),l("beforeDestroy",()=>{const s=e.thumbs.swiper;!s||s.destroyed||m&&s.destroy()}),Object.assign(e.thumbs,{init:v,update:f})}function Te(o){let{swiper:e,extendParams:b,emit:l,once:r}=o;b({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function m(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function x(){if(e.params.cssMode)return;const{touchEventsData:f,touches:s}=e;f.velocities.length===0&&f.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:k()})}function v(f){let{currentPos:s}=f;if(e.params.cssMode)return;const{params:t,wrapperEl:d,rtlTranslate:p,snapGrid:c,touchEventsData:n}=e,w=k()-n.touchStartTime;if(s<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(s>-e.maxTranslate()){e.slides.length<c.length?e.slideTo(c.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(n.velocities.length>1){const y=n.velocities.pop(),S=n.velocities.pop(),$=y.position-S.position,D=y.time-S.time;e.velocity=$/D,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(D>150||k()-y.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,n.velocities.length=0;let u=1e3*t.freeMode.momentumRatio;const _=e.velocity*u;let a=e.translate+_;p&&(a=-a);let M=!1,A;const z=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let O;if(a<e.maxTranslate())t.freeMode.momentumBounce?(a+e.maxTranslate()<-z&&(a=e.maxTranslate()-z),A=e.maxTranslate(),M=!0,n.allowMomentumBounce=!0):a=e.maxTranslate(),t.loop&&t.centeredSlides&&(O=!0);else if(a>e.minTranslate())t.freeMode.momentumBounce?(a-e.minTranslate()>z&&(a=e.minTranslate()+z),A=e.minTranslate(),M=!0,n.allowMomentumBounce=!0):a=e.minTranslate(),t.loop&&t.centeredSlides&&(O=!0);else if(t.freeMode.sticky){let y;for(let S=0;S<c.length;S+=1)if(c[S]>-a){y=S;break}Math.abs(c[y]-a)<Math.abs(c[y-1]-a)||e.swipeDirection==="next"?a=c[y]:a=c[y-1],a=-a}if(O&&r("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(p?u=Math.abs((-a-e.translate)/e.velocity):u=Math.abs((a-e.translate)/e.velocity),t.freeMode.sticky){const y=Math.abs((p?-a:a)-e.translate),S=e.slidesSizesGrid[e.activeIndex];y<S?u=t.speed:y<2*S?u=t.speed*1.5:u=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&M?(e.updateProgress(A),e.setTransition(u),e.setTranslate(a),e.transitionStart(!0,e.swipeDirection),e.animating=!0,R(d,()=>{!e||e.destroyed||!n.allowMomentumBounce||(l("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(A),R(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(l("_freeModeNoMomentumRelease"),e.updateProgress(a),e.setTransition(u),e.setTranslate(a),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,R(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(a),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&l("_freeModeNoMomentumRelease");(!t.freeMode.momentum||w>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:m,onTouchMove:x,onTouchEnd:v}})}const Ce=()=>{Z.use([N]);const{album:o,uri:e}=V(),[b,l]=h.useState(null),r=h.useRef(null),m=h.useRef(null),x=()=>{P.timeline().to(".zoom-img",{transform:`scale(${v.zoom})`,duration:.1,ease:C.easeInOut})};q({scope:m});const{controls:v,setControls:f}=G();return h.useEffect(()=>{var s;r&&v.autoplay&&((s=r.current)==null||s.swiper.autoplay.start()),x()},[v,f]),i.jsx(I,{ref:m,children:i.jsx(J,{ref:r,modules:[Te,K,Q,ge,N],className:E.mySwiper2,spaceBetween:10,navigation:!0,pagination:{type:"fraction"},thumbs:{swiper:b},centeredSlides:!0,autoplay:v.autoplay?{delay:2500,disableOnInteraction:!1}:!1,loop:!0,children:o.map((s,t)=>i.jsx(te,{maxWidth:"xl",component:"div",sx:{position:"relative"},children:i.jsx(ee,{className:E.swiperSlide2,children:i.jsxs(I,{className:E.imgContainer,children:[i.jsx("img",{className:"zoom-img",src:`${e+s.url}`,alt:s.name}),i.jsx(I,{component:"div"})]})},s.id+"-main-partial-"+t)},s.id+"-"+t))})})},De=()=>{const{open:o,closeViewer:e}=V(),b=h.useRef(null),l=h.useRef(null),[r,m]=h.useState({autoplay:!1,zoom:1,mapIn:!1}),x=()=>{m(n=>({...n,autoplay:!n.autoplay}))},v=()=>{r.zoom<1.5&&m(n=>({...n,zoom:n.zoom+.1}))},f=()=>{r.zoom>1&&m(n=>({...n,zoom:n.zoom-.1}))},s=n=>{m(g=>({...g,mapIn:n}))},t=h.useCallback(()=>{P.timeline().to(l.current,{duration:.7,height:0,opacity:0,ease:C.easeInOut}).to(l.current,{visibility:"hidden"})},[o]),d=h.useCallback(()=>{P.timeline().to(l.current,{visibility:"visible",duration:.5,height:"fit-content",opacity:1,ease:C.easeInOut})},[o]),p=h.useCallback(()=>{P.timeline().to(l.current,{position:"fixed",width:"100vw",ease:C.easeInOut,duration:.2}).to(l.current,{height:"100vh",zIndex:10001,ease:C.easeInOut,duration:.2})},[r]),c=h.useCallback(()=>{P.timeline().to(l.current,{position:"absolute",width:"100%",ease:C.easeInOut,duration:.2}).to(l.current,{height:"100%",ease:C.easeInOut,duration:.2})},[r]);return h.useMemo(()=>{o?d():(t(),m(n=>({...n,autoplay:!1,mapIn:!1,zoom:1})))},[o]),h.useMemo(()=>{r.mapIn&&p(),r.mapIn||c()},[r]),i.jsx(se,{open:o,className:"z-[2100]",children:i.jsx(I,{ref:b,children:i.jsx(I,{className:E.layout,ref:l,children:i.jsxs(ye,{value:{controls:r,setControls:m,changeAutoPlay:x,zoomIn:v,zoomOut:f,changeMap:s},children:[i.jsx(Se,{}),i.jsx(Ce,{})]})})})})};export{Ve as A,Re as G,De as S,Be as s,V as u};
