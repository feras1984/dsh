import{R as b,C as V,p as J,J as K,r as W,j as c}from"./app-b4c1bdd2.js";/* empty css                   */import{s as O}from"./styles.module-9093707d.js";import{c as Q,e as X,a as P,S as Y,N as Z,P as _,A as z,b as ee}from"./autoplay-869585d7.js";import{P as te,a as ie}from"./ProductRateAverage-037e0c36.js";import ae from"./ProductName-e4b32b1c.js";import ne from"./ProductAction-2ab17dc5.js";import se from"./ProductImage-c04a471c.js";import{B as k}from"./Box-f1839277.js";import"./Typography-014b6157.js";import"./generateUtilityClasses-1aa183f0.js";import"./styled-4531673b.js";import"./createSvgIcon-86f908bd.js";import"./createSvgIcon-36aae20a.js";import"./useForkRef-ba410026.js";import"./createChainedFunction-0bab83cf.js";import"./ownerWindow-48013543.js";import"./debounce-517eeb3c.js";import"./isMuiElement-4038ff8d.js";import"./useControlled-f0f81361.js";import"./Icon-f03c26ce.js";import"./Menu-e8841fcd.js";import"./Send-120df65a.js";import"./ButtonBase-a706ae3b.js";import"./LocalGroceryStore-d99862d6.js";import"./CardActions-b454db51.js";import"./Button-d3da4aa9.js";import"./Tooltip-5d56830a.js";import"./useSlotProps-a5c1c282.js";import"./mergeSlotProps-734284b7.js";import"./useTheme-a7e7cd73.js";import"./Popper-0f2a7640.js";import"./Portal-fc1f00e6.js";import"./popper-f3391c26.js";import"./Grow-208fde1f.js";import"./utils-c25d576f.js";import"./SwiperContext-b371d2f8.js";import"./styles.module-be7b67c3.js";function re(x){let{swiper:t,extendParams:C,on:f}=x;C({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let l=null;function d(e){const i=l;i.length!==0&&(i.innerHTML="",i.innerHTML=e)}const s=e=>(Array.isArray(e)?e:[e]).filter(i=>!!i);function h(e){e===void 0&&(e=16);const i=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(e).replace(/x/g,i)}function r(e){e=s(e),e.forEach(i=>{i.setAttribute("tabIndex","0")})}function u(e){e=s(e),e.forEach(i=>{i.setAttribute("tabIndex","-1")})}function m(e,i){e=s(e),e.forEach(a=>{a.setAttribute("role",i)})}function o(e,i){e=s(e),e.forEach(a=>{a.setAttribute("aria-roledescription",i)})}function g(e,i){e=s(e),e.forEach(a=>{a.setAttribute("aria-controls",i)})}function v(e,i){e=s(e),e.forEach(a=>{a.setAttribute("aria-label",i)})}function w(e,i){e=s(e),e.forEach(a=>{a.setAttribute("id",i)})}function n(e,i){e=s(e),e.forEach(a=>{a.setAttribute("aria-live",i)})}function A(e){e=s(e),e.forEach(i=>{i.setAttribute("aria-disabled",!0)})}function R(e){e=s(e),e.forEach(i=>{i.setAttribute("aria-disabled",!1)})}function y(e){if(e.keyCode!==13&&e.keyCode!==32)return;const i=t.params.a11y,a=e.target;t.pagination&&t.pagination.el&&(a===t.pagination.el||t.pagination.el.contains(e.target))&&!e.target.matches(P(t.params.pagination.bulletClass))||(t.navigation&&t.navigation.nextEl&&a===t.navigation.nextEl&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?d(i.lastSlideMessage):d(i.nextSlideMessage)),t.navigation&&t.navigation.prevEl&&a===t.navigation.prevEl&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?d(i.firstSlideMessage):d(i.prevSlideMessage)),t.pagination&&a.matches(P(t.params.pagination.bulletClass))&&a.click())}function $(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:i}=t.navigation;i&&(t.isBeginning?(A(i),u(i)):(R(i),r(i))),e&&(t.isEnd?(A(e),u(e)):(R(e),r(e)))}function N(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function j(){return N()&&t.params.pagination.clickable}function G(){const e=t.params.a11y;N()&&t.pagination.bullets.forEach(i=>{t.params.pagination.clickable&&(r(i),t.params.pagination.renderBullet||(m(i,"button"),v(i,e.paginationBulletMessage.replace(/\{\{index\}\}/,X(i)+1)))),i.matches(P(t.params.pagination.bulletActiveClass))?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current")})}const I=(e,i,a)=>{r(e),e.tagName!=="BUTTON"&&(m(e,"button"),e.addEventListener("keydown",y)),v(e,a),g(e,i)},T=()=>{t.a11y.clicked=!0},B=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},D=e=>{if(t.a11y.clicked)return;const i=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!i||!t.slides.includes(i))return;const a=t.slides.indexOf(i)===t.activeIndex,p=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(i);a||p||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(i),0))},F=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&o(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&m(t.slides,e.slideRole);const i=t.slides.length;e.slideLabelMessage&&t.slides.forEach((a,p)=>{const L=t.params.loop?parseInt(a.getAttribute("data-swiper-slide-index"),10):p,E=e.slideLabelMessage.replace(/\{\{index\}\}/,L+1).replace(/\{\{slidesLength\}\}/,i);v(a,E)})},H=()=>{const e=t.params.a11y;t.el.append(l);const i=t.el;e.containerRoleDescriptionMessage&&o(i,e.containerRoleDescriptionMessage),e.containerMessage&&v(i,e.containerMessage);const a=t.wrapperEl,p=e.id||a.getAttribute("id")||`swiper-wrapper-${h(16)}`,L=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";w(a,p),n(a,L),F();let{nextEl:E,prevEl:S}=t.navigation?t.navigation:{};E=s(E),S=s(S),E&&E.forEach(M=>I(M,p,e.nextSlideMessage)),S&&S.forEach(M=>I(M,p,e.prevSlideMessage)),j()&&(Array.isArray(t.pagination.el)?t.pagination.el:[t.pagination.el]).forEach(q=>{q.addEventListener("keydown",y)}),t.el.addEventListener("focus",D,!0),t.el.addEventListener("pointerdown",T,!0),t.el.addEventListener("pointerup",B,!0)};function U(){l&&l.remove();let{nextEl:e,prevEl:i}=t.navigation?t.navigation:{};e=s(e),i=s(i),e&&e.forEach(a=>a.removeEventListener("keydown",y)),i&&i.forEach(a=>a.removeEventListener("keydown",y)),j()&&(Array.isArray(t.pagination.el)?t.pagination.el:[t.pagination.el]).forEach(p=>{p.removeEventListener("keydown",y)}),t.el.removeEventListener("focus",D,!0),t.el.removeEventListener("pointerdown",T,!0),t.el.removeEventListener("pointerup",B,!0)}f("beforeInit",()=>{l=Q("span",t.params.a11y.notificationClass),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")}),f("afterInit",()=>{t.params.a11y.enabled&&H()}),f("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&F()}),f("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&$()}),f("paginationUpdate",()=>{t.params.a11y.enabled&&G()}),f("destroy",()=>{t.params.a11y.enabled&&U()})}const Je=({categoryId:x,item:t="all"})=>{const[f,l]=b.useState(!0),d=V.get(J),[s,h]=b.useState([]),[r,u]=b.useState(0);b.useState({x:0,y:0});const m=K().props.lang,[o,g]=b.useState([{key:"limit",value:7},{key:"offset",value:r}]);W.useMemo(()=>{x&&g([...o,{key:"categoryId",value:x}])},[x]);const v=()=>{if(f)switch(t){case"offer":d.localeOffers(m,...o).then(n=>{n.data.length<7&&l(!1),u(r+3),g([...o,{key:"offset",value:r+7}]),h([...s,...n.data])});break;case"top":d.localeTopProducts(m,...o).then(n=>{n.data.length<7&&l(!1),u(r+3),g([...o,{key:"offset",value:r+7}]),h([...s,...n.data])});break;case"new":d.getLocaleProducts(m,...o).then(n=>{n.data.length<7&&l(!1),u(r+3),g([...o,{key:"offset",value:r+7}]),h([...s,...n.data])});break;default:console.log("args: ",o),d.getLocaleProducts(m,...o).then(n=>{n.data.length<7&&l(!1),u(r+3),g([...o,{key:"offset",value:r+7}]),h([...s,...n.data])})}},w=n=>{v()};return b.useEffect(()=>{setTimeout(()=>{v()})},[]),c.jsx(k,{children:c.jsx(Y,{modules:[Z,_,z,re],className:O.swiper,navigation:!0,spaceBetween:30,slidesPerView:"auto",centeredSlides:!1,onSlideChange:n=>w(n.activeIndex),children:s.map((n,A)=>c.jsx(k,{maxWidth:"xl",component:"div",sx:{position:"relative"},children:c.jsxs(ee,{className:O.swiperSlide,children:[c.jsxs(k,{className:"h-[123px] relative",children:[c.jsx(se,{product:n}),n.average>2&&c.jsx(k,{className:"p-0 m-0 absolute left-0 bottom-0",children:c.jsx(te,{product:n})})]}),c.jsx(ae,{product:n}),c.jsx(ie,{product:n}),c.jsx(ne,{product:n})]})},`slider-${Math.random()*1e4}-${A}`))})})};export{Je as default};
